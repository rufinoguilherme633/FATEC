<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
   integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
   crossorigin=""/>

   <!-- Make sure you put this AFTER Leaflet's CSS -->
   <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
   integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
   crossorigin=""></script>

   <!-- Left route machine CSS -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />

   <!-- Left route machine JS -->
   <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

   <style>
      #map { height: 70vh; background-color: aqua; }
   </style>
</head>

<body>
   <div id="map"></div>

   <script>

      
      // Inicializa o mapa
      var map = L.map('map').setView([-23.59773, -46.92683], 13);
      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
         maxZoom: 19,
         attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
      }).addTo(map);

      // Dados de localização
      let minhaLocalizacao = {
         "nome": "guilherme",
         "curso": "ADM",
         "motorista": false,
         "localizacaoAtual": [-23.59773, -46.92683]
      }

      let motoristas = [
         {
            "foto":"https://www.google.com/url?sa=i&url=https%3A%2F%2Ffotografiadicas.com.br%2Fcomo_fotografar_pessoas%2F&psig=AOvVaw11m0B-yKrCXeNlUz7KdMOi&ust=1728431001011000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCLDmirC5_YgDFQAAAAAdAAAAABAE",
            "nome": "Amanda",
            "curso": "Engenharia",
            "motorista": true,
            "localizacaoAtual": [-23.58773, -46.92683]
         },
         {
            "foto":"https://www.google.com/url?sa=i&url=https%3A%2F%2Fbr.pinterest.com%2Fkcristiam%2Frostos-de-pessoas%2F&psig=AOvVaw11m0B-yKrCXeNlUz7KdMOi&ust=1728431001011000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCLDmirC5_YgDFQAAAAAdAAAAABAT",
            "nome": "Gabrielle",
            "curso": "Computação",
            "motorista": true,
            "localizacaoAtual": [-23.57773, -46.91683]
         }
      ];

      // Definição do ícone customizado
      var LeafIcon = L.Icon.extend({
         options: {
            iconUrl: 'carro-compacto.png', // Verifique o caminho da imagem
            iconSize:     [38, 38],
            shadowSize:   [50, 64],
            iconAnchor:   [22, 94],
            shadowAnchor: [4, 62],
            popupAnchor:  [-3, -76]
         }
      });

      const containerMotorista1 = document.createElement('button')
      const nomeMotorista1 = document.createElement('h1')
      nomeMotorista1.textContent= motoristas[0].nome
      const fotoMotorista1= document.createElement('img')
      fotoMotorista1.src = motoristas[0].foto

      const containerMotorista2 = document.createElement('button')
      const nomeMotorista2 = document.createElement('h1')
      nomeMotorista2.textContent= motoristas[1].nome
      const fotoMotorista2= document.createElement('img')
      fotoMotorista2.src = motoristas[1].foto

      containerMotorista1.appendChild(nomeMotorista1)
      containerMotorista1.appendChild(fotoMotorista1)
      containerMotorista2.appendChild(nomeMotorista2)
      containerMotorista2.appendChild(fotoMotorista2)

      document.body.appendChild(containerMotorista1);
      document.body.appendChild(containerMotorista2);

      // Criando uma instância do ícone
      var carroIcon = new LeafIcon();

      // Adicionando os marcadores no mapa
      var marker1 = L.marker(minhaLocalizacao.localizacaoAtual).addTo(map).bindPopup(minhaLocalizacao.nome);
      var marker2 = L.marker(motoristas[0].localizacaoAtual, { icon: carroIcon }).addTo(map).bindPopup(motoristas[0].nome);
      var marker3 = L.marker(motoristas[1].localizacaoAtual, { icon: carroIcon }).addTo(map).bindPopup(motoristas[1].nome);

   </script>
</body>
</html>
